<div class="row">
    <div class="col-sm-12">
        <header number=0></header>
    </div>
</div>

<div class="selectTeam" class="row">
  <div class="col-3">
    <!--  This is the drop down to select the team/ teams   -->
    <mat-form-field class="selectSprint">
      <mat-select placeholder="Select Team" [formControl]="Team" (change)="getAllSprintsByTeam($event.value.agile_system_id)" >
        <mat-option  *ngFor="let TeamChoice of TeamChoices" [value]="TeamChoice"  >{{TeamChoice.agile_system_name}}</mat-option>
      </mat-select>
    </mat-form-field>
  </div>
  <div class="col-3">

    <mat-form-field class="selectSprint">
      <mat-select placeholder='Select Sprints' [formControl]="Sprint" (change)="storeSprintId($event.value.agile_sprint_id)">
        <mat-option *ngFor="let SprintChoice of SprintChoices" [value]="SprintChoice">
          {{ SprintChoice.agile_sprint_name }}
        </mat-option>
      </mat-select>
    </mat-form-field>
  </div>

  <div class="col-3">  
    
    <!-- This is the button to search the metrics   -->
    <button mat-button id="formCompleteButton" (click)='getAllStoriesWithUsersBySprint()' >Search</button>
  </div>
</div>


<div class="row" id="metricsPageRadio">
    <div class="col-12">
  <!-- These are the radio buttons to determine grid or bar graph  -->
  <mat-radio-group>
    
      <mat-radio-button (change)="showGridGraph();" type="radio" id="metricsPageRadioRight" value="1" checked="true">Grid</mat-radio-button>
      <mat-radio-button (change)="showBarGraph();" type="radio" value="2" >Bar </mat-radio-button>
    </mat-radio-group>
      </div>
</div>


<div class="row" id="barGraphMetricsPageDiv">
    <div class="col-12">
      <!-- This is the Bar Graph for the Metrics Page. -->
            <canvas baseChart [datasets]="barChartData" [labels]="barChartLabels" [options]="barChartOptions" [legend]="barChartLegend"
              [chartType]="barChartType" (chartHover)="chartHovered($event)" (chartClick)="chartClicked($event)"></canvas>
          <button id="BarGraphMetricsPageUpdateBtn" (click)="randomize()">Update</button>
    </div>
  </div>


  <div class="row" id="gridGraphMetricsPageDiv">
      <div class="col-12">
          <mat-table #table [dataSource]="StoryChoices">

              <!--- Note that these columns can be defined in any order.
                    The actual rendered columns are set as a property on the row definition" -->
          
              <!-- Story ID Column -->
              <ng-container matColumnDef="agile_story_id">
                <mat-header-cell *matHeaderCellDef> Story ID </mat-header-cell>
                <mat-cell *matCellDef="let element"> {{element.agile_story_id}} </mat-cell>
              </ng-container>
          
              <!-- Story Name Column -->
              <ng-container matColumnDef="agile_story_name">
                <mat-header-cell *matHeaderCellDef> Story Name </mat-header-cell>
                <mat-cell *matCellDef="let element"> {{element.agile_story_name}} </mat-cell>
              </ng-container>
          
              <!-- Sprint ID Column -->
              <ng-container matColumnDef="agile_sprint_id">
                <mat-header-cell *matHeaderCellDef> Sprint ID </mat-header-cell>
                <mat-cell *matCellDef="let element"> {{element.agile_sprint_id}} </mat-cell>
              </ng-container>
          
              <!-- Story Type Column -->
              <ng-container matColumnDef="story_type">
                <mat-header-cell *matHeaderCellDef> Story Type </mat-header-cell>
                <mat-cell *matCellDef="let element"> {{element.story_type}} </mat-cell>
              </ng-container>

              <!-- Story Points Column -->
              <ng-container matColumnDef="story_points">
                <mat-header-cell *matHeaderCellDef> Story Points </mat-header-cell>
                <mat-cell *matCellDef="let element"> {{element.agile_system_user_story_points}} </mat-cell>
              </ng-container>

              <!-- Story Points Column -->
              <ng-container matColumnDef="agile_system_user_id">
                <mat-header-cell *matHeaderCellDef> User </mat-header-cell>
                <mat-cell *matCellDef="let element"> {{element.agile_system_user_id}} </mat-cell>
                <!-- <mat-cell *matCellDef="let element"> {{element.users}} </mat-cell> -->
              </ng-container>
          
              <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
              <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
            </mat-table>
      </div>
    </div>








